---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "illumio-core_container_cluster_workload_profiles Data Source - terraform-provider-illumio-core"
subcategory: ""
description: |-
  Represents Illumio Container Cluster Workload Profiles
---

# illumio-core_container_cluster_workload_profiles (Data Source)

Represents Illumio Container Cluster Workload Profiles

## Example Usage

```terraform
resource "illumio-core_container_cluster" "kube" {
  name        = "CC-KUBE"
  description = "Kubernetes Container Cluster"
}

resource "illumio-core_label" "location_kubernetes" {
  key   = "loc"
  value = "L-KUBE"
}

resource "illumio-core_label" "env_dev" {
  key   = "env"
  value = "E-DEV"
}

resource "illumio-core_label" "app_core_services" {
  key   = "app"
  value = "A-CORE-SERVICES"
}

resource "illumio-core_container_cluster_workload_profile" "kube_sandbox" {
  container_cluster_href = illumio-core_container_cluster.kube.href
  name                   = "CCWP-KUBE-SANDBOX"
  description            = "Workload profile for devtest pods"
  managed                = true
  enforcement_mode       = "selective"

  assign_labels {
    href = illumio-core_label.location_kubernetes.href
  }

  assign_labels {
    href = illumio-core_label.env_dev.href
  }
}

resource "illumio-core_container_cluster_workload_profile" "kube_core_services" {
  container_cluster_href = illumio-core_container_cluster.kube.href
  name                   = "CCWP-KUBE-CORE-SERVICES"
  description            = "Workload profile for core-services pods"
  managed                = true
  enforcement_mode       = "visibility_only"

  assign_labels {
    href = illumio-core_label.location_kubernetes.href
  }

  assign_labels {
    href = illumio-core_label.app_core_services.href
  }
}

data "illumio-core_container_cluster_workload_profiles" "kube_profiles" {
	container_cluster_href = illumio-core_container_cluster.kube.href
  max_results            = 2

  # despite the explicit dependency on the container cluster itself,
  # the implicit dependencies on its workload profiles need to
  # be explicitly defined here to ensure the profiles are created
  # before the data source is populated
	depends_on = [
		illumio-core_container_cluster_workload_profile.kube_sandbox,
		illumio-core_container_cluster_workload_profile.kube_core_services,
	]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `container_cluster_href` (String) URI of the Container Cluster

### Optional

- `assign_labels` (String) List of label URIs, encoded as a JSON string
- `enforcement_mode` (String) Filter by enforcement mode. Allowed values for enforcement modes are "idle", "visibility_only", "full", and "selective"
- `linked` (String) Filter by linked container workload profiles
- `managed` (String) Filter by managed state
- `max_results` (String) Maximum number of container workloads to return. The integer should be a non-zero positive integer
- `name` (String) Name string to match.Supports partial matches
- `namespace` (String) Namespace string to match.Supports partial matches
- `visibility_level` (String) Filter by visibility level. Allowed values are "flow_full_detail", "flow_summary", "flow_drops", "flow_off" and "enhanced_data_collection"

### Read-Only

- `id` (String) The ID of this resource
- `items` (List of Object) List of Container Cluster Workload Profiles (see [below for nested schema](#nestedatt--items))

<a id="nestedatt--items"></a>
### Nested Schema for `items`

Read-Only:

- `assign_labels` (List of Object) Assigned labels container workload profile (see [below for nested schema](#nestedobjatt--items--assign_labels))
- `created_at` (String) Timestamp when this label group was first created
- `created_by` (Map of String) User who created this label group
- `description` (String) Description of the container workload profile
- `enforcement_mode` (String) Enforcement mode of container workload profiles to return
- `href` (String) Container Cluster Workload Profile URI
- `labels` (List of Object) Labels to assign to the workload that matches the namespace (see [below for nested schema](#nestedobjatt--items--labels))
- `linked` (Boolean) True if the namespace exists in the cluster and is reported by Kubelink
- `managed` (Boolean) If the namespace is managed or not
- `name` (String) A friendly name given to a profile if the namespace is not user-friendly
- `namespace` (String) Namespace name of the container workload profile
- `updated_at` (String) Timestamp when this label group was last updated
- `updated_by` (Map of String) User who last updated this label group
- `visibility_level` (String) Visibility Level of the container cluster workload profile

<a id="nestedobjatt--items--assign_labels"></a>
### Nested Schema for `items.assign_labels`

Read-Only:

- `href` (String) Label URI


<a id="nestedobjatt--items--labels"></a>
### Nested Schema for `items.labels`

Read-Only:

- `assignment` (List of Object) The label href to set. Single element list (see [below for nested schema](#nestedobjatt--items--labels--assignment))
- `key` (String) Key of the Label
- `restriction` (List of Object) The list of allowed label hrefs (see [below for nested schema](#nestedobjatt--items--labels--restriction))

<a id="nestedobjatt--items--labels--assignment"></a>
### Nested Schema for `items.labels.assignment`

Read-Only:

- `href` (String) Label URI
- `value` (String) Label value


<a id="nestedobjatt--items--labels--restriction"></a>
### Nested Schema for `items.labels.restriction`

Read-Only:

- `href` (String) Label URI
- `value` (String) Label value


